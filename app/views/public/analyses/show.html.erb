<div class="container">
  <h2><%= @user.name %>さんの性格分析</h2>
  <div class="row">
    <div class="col-6">
  <canvas id="myRadarChart"></canvas>
  <script>
  var ctx = document.getElementById("myRadarChart");
  var myRadarChart = new Chart(ctx, {
    type: 'radar',
    data: {
      labels: ['神経症傾向', '外向性', '誠実性', '調和性', '開放性'],
      datasets: [
        {
          label: '日本人平均',
          data: [35, 31, 29, 32, 35],
          borderColor: "rgba(255,0,0,1)",
          backgroundColor: "rgba(0,0,0,0)"
        },
        {
          label: '<%= @user.name %>さん',
          data: [
            <%= @emotionality_total_score || 0 %>,
            <%= @extraversion_total_score || 0 %>,
            <%= @controllability_total_score || 0 %>,
            <%= @attachment_total_score || 0 %>,
            <%= @playability_total_score || 0 %>
          ],
          borderColor: "rgba(0,0,255,1)",
          backgroundColor: "rgba(0,0,0,0)"
        }
      ],
    },
    options: {
      title: {
        display: true,
      },
      scale:{
        ticks:{
          suggestedMax: 50,
          suggestedMin: 0,
          stepSize: 10,
          callback: function(value, index, values){
            return  value
          }
        }
      }
    }
  });
  </script>
    </div>
    <div class="col-6">
      <p><%= @emotionality_grade %></p>
      <p><%= @extraversion_grade %></p>
      <p><%= @controllability_grade %></p>
      <p><%= @attachment_grade %></p>
      <p><%= @playability_grade %></p>
    </div>
  </div>
  <div class="row d-flex justify-content-center" style=" height: auto; margin: 30px 0;">
    <div class="col-auto">
      <table class="table">
  <thead>
    <tr align="center">
      <th scope="col"></th>
      <th scope="col">項目説明</th>
      <th scope="col">高い</th>
      <th scope="col">中間</th>
      <th scope="col">低い</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row">神経症傾向</th>
      <td>メンタルの強さ、感受性の高さ</td>
      <td>メンタルが敏感、多少のことで焦ったりする</td>
      <td>メンタルは普通。崩れる時もあれば崩れない時もある</td>
      <td>メンタルが強い、多少のことで焦ったりしない</td>
    </tr>
    <tr>
      <th scope="row">外向性</th>
      <td>明るく積極的に他人と関わる性質</td>
      <td>活動的、温かい</td>
      <td>適度に外向的で適度に内向的。どちらの性格も併せ持つ</td>
      <td>他人と関わることが苦手で内向的</td>
    </tr>
    <tr>
      <th scope="row">誠実性</th>
      <td>コツコツやり遂げる力</td>
      <td>つらい仕事でも淡々と行える</td>
      <td>コツコツ続けられることもあれば衝動的になることもある</td>
      <td>衝動的に行動する。予定を先延ばしにする。</td>
    </tr>
    <tr>
      <th scope="row">調和性</th>
      <td>他人への親切さ</td>
      <td>他人に親切</td>
      <td>親切なこともあるが好き嫌いがあることもある</td>
      <td>他人への親切心があまりない。交渉が得意なケースもある。</td>
    </tr>
    <tr>
      <th scope="row">開放性</th>
      <td>好奇心の強さ(芸術面を含む)</td>
      <td>知的好奇心が高い。新しい事をすることにためらいが無い。</td>
      <td>好奇心は高いがルールは守りたい、というように両方の性質を併せ持つ</td>
      <td>新しい事を好まない、決まったルールや規則を守りたい。</td>
    </tr>
  </tbody>
</table>
    </div>
  </div>
  <div class="row d-flex justify-content-center">
    <div class="col-3">
      <%= link_to "内訳を見る", analysis_detail_path(@user), class: "btn btn-info btn-lg btn-block" %>
    </div>
  </div>
</div>